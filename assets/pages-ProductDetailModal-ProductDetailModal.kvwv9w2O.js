import{A as a,C as t,a as l,b as e,H as o,h as s,i as c,o as u,g as d,k as r,t as n,z as p,p as i}from"./index-BQ09tla7.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=f({__name:"ProductDetailModal",props:{show:Boolean,product:Object},emits:["close","open-flavor-modal"],setup(f,{emit:_}){const m=f,k=_,y=a(0);t((()=>m.show),(a=>{a&&m.product?y.value=0:a||(y.value=0)}));const v=()=>{y.value>0&&y.value--},h=()=>{k("close")},b=()=>{m.product&&k("open-flavor-modal",{product:m.product,quantity:1})},g=a=>{if(!a||!a.name)return"/static/placeholder.png";return`/static/dishes/${a.name}.png`};return(a,t)=>{const _=c,m=p,k=i;return f.show?(u(),l(_,{key:0,class:"detail-modal-overlay",onClick:o(h,["self"])},{default:e((()=>[d(_,{class:"detail-modal-content",onClick:t[0]||(t[0]=o((()=>{}),["stop"]))},{default:e((()=>[d(_,{class:"close-button",onClick:h},{default:e((()=>[r("×")])),_:1}),d(_,{class:"product-image-container"},{default:e((()=>[f.product?(u(),l(m,{key:0,src:g(f.product),mode:"aspectFill",class:"product-detail-image"},null,8,["src"])):(u(),l(_,{key:1,class:"product-detail-image-placeholder"},{default:e((()=>[d(k,null,{default:e((()=>[r("加载中...")])),_:1})])),_:1}))])),_:1}),f.product?(u(),l(_,{key:0,class:"product-detail-info"},{default:e((()=>[d(_,{class:"product-detail-name-price"},{default:e((()=>[d(k,{class:"product-modal-name"},{default:e((()=>[r(n(f.product.name),1)])),_:1}),d(k,{class:"product-modal-price"},{default:e((()=>[r("¥"+n(f.product.price?parseFloat(f.product.price).toFixed(2):"0.00")+"/份",1)])),_:1})])),_:1}),d(_,{class:"quantity-control"},{default:e((()=>[d(_,{class:"quantity-button minus",onClick:v},{default:e((()=>[r("-")])),_:1}),d(k,{class:"quantity-text"},{default:e((()=>[r(n(y.value),1)])),_:1}),d(_,{class:"quantity-button plus",onClick:b},{default:e((()=>[r("+")])),_:1})])),_:1})])),_:1})):(u(),l(_,{key:1,class:"product-detail-info-placeholder"},{default:e((()=>[d(k,null,{default:e((()=>[r("商品信息加载中...")])),_:1})])),_:1})),d(_,{class:"detail-footer"},{default:e((()=>[d(_,{class:"back-button",onClick:h},{default:e((()=>[d(k,null,{default:e((()=>[r("返回")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):s("",!0)}}},[["__scopeId","data-v-fd8f37a2"]]);export{_ as default};
