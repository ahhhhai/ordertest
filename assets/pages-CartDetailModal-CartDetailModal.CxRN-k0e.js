import{C as a,a as t,b as l,H as e,h as s,i as o,o as c,g as i,k as n,l as r,m as d,F as u,p as f,S as m,t as _}from"./index-BQ09tla7.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const p=y({__name:"CartDetailModal",props:{show:Boolean,cartItems:{type:Array,default:()=>[]}},emits:["close","update-quantity","clear-cart"],setup(y,{emit:p}){const C=y,k=p;a((()=>C.show),(a=>{a?console.log("CartDetailModal shown with items:",C.cartItems):console.log("CartDetailModal hidden")}));const h=()=>{console.log("CartDetailModal: handleClose clicked"),k("close")},q=()=>{console.log("CartDetailModal: handleClearCart clicked"),k("clear-cart")};return(a,p)=>{const C=f,g=o,v=m;return y.show?(c(),t(g,{key:0,class:"cart-detail-modal-overlay",onClick:e(h,["self"])},{default:l((()=>[i(g,{class:"cart-detail-modal-content",onClick:p[0]||(p[0]=e((()=>{}),["stop"]))},{default:l((()=>[i(g,{class:"modal-header"},{default:l((()=>[i(C,{class:"header-title"},{default:l((()=>[n("购物车")])),_:1}),i(g,{class:"clear-cart",onClick:q},{default:l((()=>[i(C,null,{default:l((()=>[n("清空")])),_:1})])),_:1}),i(g,{class:"close-button",onClick:h},{default:l((()=>[n("×")])),_:1})])),_:1}),i(v,{"scroll-y":"",class:"cart-items-list"},{default:l((()=>[(c(!0),r(u,null,d(y.cartItems,((a,e)=>(c(),t(g,{key:e,class:"cart-item"},{default:l((()=>[i(g,{class:"item-name"},{default:l((()=>[n(_(a.productName),1)])),_:2},1024),a.flavor&&a.flavor.length>0?(c(),t(g,{key:0,class:"item-flavors"},{default:l((()=>[i(C,null,{default:l((()=>[n(_(a.flavor.join(",")),1)])),_:2},1024)])),_:2},1024)):s("",!0),i(g,{class:"item-price-quantity"},{default:l((()=>[i(C,{class:"item-price"},{default:l((()=>[n("¥"+_(parseFloat(a.price).toFixed(2)),1)])),_:2},1024),i(g,{class:"quantity-control"},{default:l((()=>[i(g,{class:"quantity-button",onClick:t=>(a=>{a.quantity>0&&(console.log("CartDetailModal: decreaseQuantity clicked for item:",a),k("update-quantity",{...a,quantity:a.quantity-1}))})(a)},{default:l((()=>[n("-")])),_:2},1032,["onClick"]),i(C,{class:"quantity-text"},{default:l((()=>[n(_(a.quantity),1)])),_:2},1024),i(g,{class:"quantity-button",onClick:t=>(a=>{console.log("CartDetailModal: increaseQuantity clicked for item:",a),k("update-quantity",{...a,quantity:a.quantity+1})})(a)},{default:l((()=>[n("+")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),0===y.cartItems.length?(c(),t(g,{key:0,class:"empty-cart-placeholder"},{default:l((()=>[i(C,null,{default:l((()=>[n("购物车是空的哦")])),_:1})])),_:1})):s("",!0)])),_:1}),i(g,{class:"modal-footer"})])),_:1})])),_:1})):s("",!0)}}},[["__scopeId","data-v-5f8f3b40"]]);export{p as default};
